(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{20:function(e,n,t){e.exports=t(41)},41:function(e,n,t){"use strict";t.r(n);var a=t(19),r=t(2),o=t(0),u=t.n(o),c=t(17),l=t.n(c),i=function(e){var n=e.formSend,t=e.text;return u.a.createElement("button",{onClick:n},t)},m=function(e){var n=e.valueChange;return u.a.createElement("input",{onChange:n})},f=function(e){var n=e.type,t=e.nameChangeHandler,a=e.numberChangeHandler,r=e.filterHandler,o=e.formSend,c=null;return c="phonebook"===n?u.a.createElement("form",{onSubmit:o},u.a.createElement("div",null,"name: ",u.a.createElement(m,{valueChange:t})),u.a.createElement("div",null,"number: ",u.a.createElement(m,{valueChange:a})),u.a.createElement(i,{formSend:o,text:"SEND"})):u.a.createElement("form",{onSubmit:o},u.a.createElement("div",null,"filter shown with: ",u.a.createElement(m,{valueChange:r}))),u.a.createElement("div",null,"phonebook"===n?u.a.createElement("h2",null,"Add a new number"):u.a.createElement("h2",null,"Phonebook"),c)},s=t(18),d=t.n(s),h=function(e){var n=e.persons,t=e.personRemove;return u.a.createElement("div",null,u.a.createElement("h2",null,"Numbers"),n.map((function(e){return u.a.createElement("p",{key:d()(),onClick:function(){return t(e)},style:{width:"250px"}},e.name," ",e.number)})))},b=t(4),p=t.n(b),v="/api/persons",E=function(){return p.a.get(v).then((function(e){return e.data}))},g=function(e){return p.a.post(v,e).then((function(e){return e.data}))},w=function(e,n){return p.a.put(v+"/"+n,e)},j=function(e){return p.a.delete(v+"/"+e.id)},C=t(6),O=t.n(C),S=function(e){var n=e.message,t=e.type;return u.a.createElement("div",{className:"error"===t?O.a.error:O.a.notification},n)},y=function(){var e=Object(o.useState)([]),n=Object(r.a)(e,2),t=n[0],c=n[1],l=Object(o.useState)(""),i=Object(r.a)(l,2),m=i[0],s=i[1],d=Object(o.useState)(""),b=Object(r.a)(d,2),p=b[0],v=b[1],C=Object(o.useState)(""),O=Object(r.a)(C,2),y=O[0],k=O[1],H=Object(o.useState)(null),N=Object(r.a)(H,2),_=N[0],x=N[1],P=Object(o.useState)(null),T=Object(r.a)(P,2),D=T[0],R=T[1],J=function(e){v(e.target.value)},L=function(e){g(e).then((function(e){c(t.concat(e)),x("Person ".concat(e.name," was added")),setTimeout((function(){x(null)}),5e3)})).catch((function(e){R(e.response.data.error),setTimeout((function(){R(null)}),5e3)}))},M=function(e,n){var r=Object(a.a)(t);r.find((function(n){return n.id===e.id?n.number=e.number:console.log()})),c(r),w(e,n).catch((function(n){R("Person ".concat(e.name," was already removed from the server")),setTimeout((function(){R(null)}),5e3)}))};return Object(o.useEffect)((function(){E().then((function(e){return c(e)}))}),[]),u.a.createElement("div",null,_?u.a.createElement(S,{message:_,type:"notification"}):null,D?u.a.createElement(S,{message:D,type:"error"}):null,u.a.createElement(f,{type:"filter",filterHandler:J}),u.a.createElement(f,{type:"phonebook",nameChangeHandler:function(e){s(e.target.value)},numberChangeHandler:function(e){k(e.target.value)},filterHandler:J,formSend:function(e){e.preventDefault();var n=t.filter((function(e){return e.name===m}));if(0===n.length){L({name:m,number:y})}else{var a={name:n[0].name,number:y,id:n[0].id};window.confirm(m+" is already on the list, do you want to update the number?")?M(a,n[0].id):console.log()}}}),u.a.createElement(h,{persons:function(e,n){return""===n?e:e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))}(t,p),personRemove:function(e){window.confirm("Delete "+e.name+"?")&&j(e).then((function(){var n=t.filter((function(n){return n.id!==e.id}));c(n)})).catch((function(n){R("Person ".concat(e.name," was already removed from the server")),setTimeout((function(){R(null)}),5e3)}))}}))};n.default=y;l.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(y,null)),document.getElementById("root"))},6:function(e,n,t){e.exports={error:"Notification_error__1RsiN",notification:"Notification_notification__1C7Ma"}}},[[20,1,2]]]);
//# sourceMappingURL=main.06b6c259.chunk.js.map