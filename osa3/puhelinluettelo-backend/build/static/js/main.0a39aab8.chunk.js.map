{"version":3,"sources":["components/Button/Button.js","components/Input/Input.js","components/Form/Form.js","components/Numbers/Numbers.js","services/personService.js","components/Notification/Notification.js","index.js","components/Notification/Notification.module.css"],"names":["Button","formSend","text","onClick","Input","valueChange","onChange","Form","type","nameChangeHandler","numberChangeHandler","filterHandler","form","onSubmit","Numbers","persons","personRemove","map","el","key","uniqid","style","width","name","number","baseurl","axios","get","then","res","data","newObject","post","updatedPerson","personId","put","object","delete","id","Notification","message","className","classes","error","notification","App","useState","setPersons","newName","setNewName","newFilter","setNewFilter","newNumber","setNewNumber","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","filterChangeHandler","event","target","value","addPerson","personService","returnedPerson","concat","updatePerson","updatedList","find","person","console","log","catch","setTimeout","useEffect","preventDefault","searchSimilar","filter","length","personObject","confirm","window","alert","filteredName","toLowerCase","includes","nameFilter","prs","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0a39aab8.chunk.js","sourcesContent":["import React from 'react';\n\nconst Button = ({ formSend, text }) => (\n  <button onClick={formSend}>{text}</button>\n);\n\nexport default Button;\n","import React from 'react';\n\nconst Input = ({ valueChange }) => <input onChange={valueChange}></input>;\n\nexport default Input;\n","import React from 'react';\nimport Button from '../Button/Button';\nimport Input from '../Input/Input';\n\nconst Form = ({\n  type,\n  nameChangeHandler,\n  numberChangeHandler,\n  filterHandler,\n  formSend,\n}) => {\n  let form = null;\n  type === 'phonebook'\n    ? (form = (\n        <form onSubmit={formSend}>\n          <div>\n            name: <Input valueChange={nameChangeHandler} />\n          </div>\n          <div>\n            number: <Input valueChange={numberChangeHandler} />\n          </div>\n          <Button formSend={formSend} text='SEND' />\n        </form>\n      ))\n    : (form = (\n        <form onSubmit={formSend}>\n          <div>\n            filter shown with: <Input valueChange={filterHandler} />\n          </div>\n        </form>\n      ));\n\n  return (\n    <div>\n      {type === 'phonebook' ? <h2>Add a new number</h2> : <h2>Phonebook</h2>}\n      {form}\n    </div>\n  );\n};\n\nexport default Form;\n","import React from 'react';\nimport uniqid from 'uniqid';\n\nconst Numbers = ({ persons, personRemove }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {persons.map((el) => (\n        <p\n          key={uniqid()}\n          onClick={() => personRemove(el)}\n          style={{ width: '250px' }}>\n          {el.name} {el.number}\n        </p>\n      ))}\n    </div>\n  );\n};\n\nexport default Numbers;\n","import axios from 'axios';\nconst baseurl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseurl);\n  return request.then((res) => res.data);\n};\n\nconst add = (newObject) => {\n  const request = axios.post(baseurl, newObject);\n  return request.then((res) => res.data);\n};\n\nconst update = (updatedPerson, personId) => {\n  return axios.put(baseurl + '/' + personId, updatedPerson);\n};\n\nconst deleteObject = (object) => {\n  return axios.delete(baseurl + '/' + object.id);\n};\n\nexport default { getAll, add, update, deleteObject };\n","import React from 'react';\nimport classes from './Notification.module.css';\n\nconst Notification = ({ message, type }) => {\n  return (\n    <div className={type === 'error' ? classes.error : classes.notification}>\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport Form from './components/Form/Form';\nimport Numbers from './components/Numbers/Numbers';\nimport personService from './services/personService';\nimport uniqid from 'uniqid';\nimport Notification from './components/Notification/Notification';\n\nconst App = () => {\n  // State of the app\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newFilter, setNewFilter] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  // Different functions for the app\n  const nameChangeHandler = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const numberChangeHandler = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const filterChangeHandler = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  const nameFilter = (persons, filteredName) => {\n    if (filteredName === '') {\n      return persons;\n    } else {\n      return persons.filter((el) =>\n        el.name.toLowerCase().includes(filteredName.toLowerCase())\n      );\n    }\n  };\n\n  const detailsSendHandler = (event) => {\n    event.preventDefault();\n    let searchSimilar = persons.filter((el) => el.name === newName);\n    if (searchSimilar.length === 0 && newNumber.length === 10) {\n      let personObject = { name: newName, number: newNumber, id: uniqid() };\n      addPerson(personObject);\n      setPersons(persons.concat(personObject));\n      setNotificationMessage(`Person ${personObject.name} was added`);\n      setTimeout(() => {\n        setNotificationMessage(null);\n      }, 5000);\n    } else {\n      if (searchSimilar.length === 1) {\n        let updatedPerson = {\n          name: searchSimilar[0].name,\n          number: newNumber,\n          id: searchSimilar[0].id,\n        };\n        let confirm = window.confirm(\n          newName + ' is already on the list, do you want to update the number?'\n        );\n        newNumber.length !== 10 ? (confirm = false) : console.log();\n        newNumber.length !== 10\n          ? alert('Phone number must be 10 characters long!')\n          : console.log();\n        confirm\n          ? updatePerson(updatedPerson, searchSimilar[0].id)\n          : console.log();\n      } else {\n        alert('Phone number must be 10 characters long!');\n      }\n    }\n  };\n\n  const personRemoveHandler = (person) => {\n    let confirm = window.confirm('Delete ' + person.name + '?');\n    if (confirm) {\n      personService\n        .deleteObject(person)\n        .then(() => {\n          let updatedList = persons.filter((prs) => prs.id !== person.id);\n          setPersons(updatedList);\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Person ${person.name} was already removed from the server`\n          );\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const getPersons = () => {\n    personService.getAll().then((persons) => setPersons(persons));\n  };\n\n  const addPerson = (newObject) => {\n    personService\n      .add(newObject)\n      .then((returnedPerson) => setPersons(persons.concat(returnedPerson)));\n  };\n\n  const updatePerson = (updatedPerson, personId) => {\n    let updatedList = [...persons];\n    updatedList.find((person) =>\n      person.id === updatedPerson.id\n        ? (person.number = updatedPerson.number)\n        : console.log()\n    );\n    setPersons(updatedList);\n    personService.update(updatedPerson, personId).catch((error) => {\n      setErrorMessage(\n        `Person ${updatedPerson.name} was already removed from the server`\n      );\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    });\n  };\n\n  useEffect(getPersons, []);\n\n  return (\n    <div>\n      {notificationMessage ? (\n        <Notification message={notificationMessage} type='notification' />\n      ) : null}\n      {errorMessage ? (\n        <Notification message={errorMessage} type='error' />\n      ) : null}\n      <Form type='filter' filterHandler={filterChangeHandler} />\n      <Form\n        type='phonebook'\n        nameChangeHandler={nameChangeHandler}\n        numberChangeHandler={numberChangeHandler}\n        filterHandler={filterChangeHandler}\n        formSend={detailsSendHandler}\n      />\n      <Numbers\n        persons={nameFilter(persons, newFilter)}\n        personRemove={personRemoveHandler}\n      />\n    </div>\n  );\n};\n\nexport default App;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Notification_error__1RsiN\",\"notification\":\"Notification_notification__1C7Ma\"};"],"sourceRoot":""}