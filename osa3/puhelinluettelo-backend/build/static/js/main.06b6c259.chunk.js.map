{"version":3,"sources":["components/Button/Button.js","components/Input/Input.js","components/Form/Form.js","components/Numbers/Numbers.js","services/personService.js","components/Notification/Notification.js","index.js","components/Notification/Notification.module.css"],"names":["Button","formSend","text","onClick","Input","valueChange","onChange","Form","type","nameChangeHandler","numberChangeHandler","filterHandler","form","onSubmit","Numbers","persons","personRemove","map","el","key","uniqid","style","width","name","number","baseurl","axios","get","then","res","data","newObject","post","updatedPerson","personId","put","object","delete","id","Notification","message","className","classes","error","notification","App","useState","setPersons","newName","setNewName","newFilter","setNewFilter","newNumber","setNewNumber","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","filterChangeHandler","event","target","value","addPerson","personService","returnedPerson","concat","setTimeout","catch","response","updatePerson","updatedList","find","person","console","log","useEffect","preventDefault","searchSimilar","filter","length","window","confirm","filteredName","toLowerCase","includes","nameFilter","prs","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"kNAMeA,EAJA,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,KAAb,OACb,4BAAQC,QAASF,GAAWC,ICCfE,EAFD,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAH,OAAqB,2BAAOC,SAAUD,KCsCrCE,EApCF,SAAC,GAMP,IALLC,EAKI,EALJA,KACAC,EAII,EAJJA,kBACAC,EAGI,EAHJA,oBACAC,EAEI,EAFJA,cACAV,EACI,EADJA,SAEIW,EAAO,KAqBX,OAnBKA,EADI,cAATJ,EAEM,0BAAMK,SAAUZ,GACd,sCACQ,kBAAC,EAAD,CAAOI,YAAaI,KAE5B,wCACU,kBAAC,EAAD,CAAOJ,YAAaK,KAE9B,kBAAC,EAAD,CAAQT,SAAUA,EAAUC,KAAK,UAInC,0BAAMW,SAAUZ,GACd,mDACqB,kBAAC,EAAD,CAAOI,YAAaM,MAM/C,6BACY,cAATH,EAAuB,gDAA4B,yCACnDI,I,iBChBQE,EAhBC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aAC1B,OACE,6BACE,uCACCD,EAAQE,KAAI,SAACC,GAAD,OACX,uBACEC,IAAKC,MACLjB,QAAS,kBAAMa,EAAaE,IAC5BG,MAAO,CAAEC,MAAO,UACfJ,EAAGK,KAJN,IAIaL,EAAGM,a,gBCXlBC,EAAU,eAoBD,EAlBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAASA,EAAIC,SAgBpB,EAbH,SAACC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAASA,EAAIC,SAWpB,EARA,SAACG,EAAeC,GAC7B,OAAOR,IAAMS,IAAIV,EAAU,IAAMS,EAAUD,IAO9B,EAJM,SAACG,GACpB,OAAOV,IAAMW,OAAOZ,EAAU,IAAMW,EAAOE,K,gBCP9BC,EARM,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAAShC,EAAW,EAAXA,KAC/B,OACE,yBAAKiC,UAAoB,UAATjC,EAAmBkC,IAAQC,MAAQD,IAAQE,cACxDJ,ICEDK,EAAM,WAAM,MAEcC,mBAAS,IAFvB,mBAET/B,EAFS,KAEAgC,EAFA,OAGcD,mBAAS,IAHvB,mBAGTE,EAHS,KAGAC,EAHA,OAIkBH,mBAAS,IAJ3B,mBAITI,EAJS,KAIEC,EAJF,OAKkBL,mBAAS,IAL3B,mBAKTM,EALS,KAKEC,EALF,OAMsCP,mBAAS,MAN/C,mBAMTQ,EANS,KAMYC,EANZ,OAOwBT,mBAAS,MAPjC,mBAOTU,EAPS,KAOKC,EAPL,KAkBVC,EAAsB,SAACC,GAC3BR,EAAaQ,EAAMC,OAAOC,QA0DtBC,EAAY,SAAC/B,GACjBgC,EACOhC,GACJH,MAAK,SAACoC,GACLjB,EAAWhC,EAAQkD,OAAOD,IAC1BT,EAAuB,UAAD,OAAWS,EAAezC,KAA1B,eACtB2C,YAAW,WACTX,EAAuB,QACtB,QAEJY,OAAM,SAACxB,GACNc,EAAgBd,EAAMyB,SAAStC,KAAKa,OACpCuB,YAAW,WACTT,EAAgB,QACf,SAIHY,EAAe,SAACpC,EAAeC,GACnC,IAAIoC,EAAW,YAAOvD,GACtBuD,EAAYC,MAAK,SAACC,GAAD,OACfA,EAAOlC,KAAOL,EAAcK,GACvBkC,EAAOhD,OAASS,EAAcT,OAC/BiD,QAAQC,SAEd3B,EAAWuB,GACXP,EAAqB9B,EAAeC,GAAUiC,OAAM,SAACxB,GACnDc,EAAgB,UAAD,OACHxB,EAAcV,KADX,yCAGf2C,YAAW,WACTT,EAAgB,QACf,SAMP,OAFAkB,qBAxCmB,WACjBZ,IAAuBnC,MAAK,SAACb,GAAD,OAAagC,EAAWhC,QAuChC,IAGpB,6BACGuC,EACC,kBAAC,EAAD,CAAcd,QAASc,EAAqB9C,KAAK,iBAC/C,KACHgD,EACC,kBAAC,EAAD,CAAchB,QAASgB,EAAchD,KAAK,UACxC,KACJ,kBAAC,EAAD,CAAMA,KAAK,SAASG,cAAe+C,IACnC,kBAAC,EAAD,CACElD,KAAK,YACLC,kBApHoB,SAACkD,GACzBV,EAAWU,EAAMC,OAAOC,QAoHpBnD,oBAjHsB,SAACiD,GAC3BN,EAAaM,EAAMC,OAAOC,QAiHtBlD,cAAe+C,EACfzD,SAjGqB,SAAC0D,GAC1BA,EAAMiB,iBACN,IAAIC,EAAgB9D,EAAQ+D,QAAO,SAAC5D,GAAD,OAAQA,EAAGK,OAASyB,KACvD,GAA6B,IAAzB6B,EAAcE,OAAc,CAE9BjB,EADmB,CAAEvC,KAAMyB,EAASxB,OAAQ4B,QAEvC,CACL,IAAInB,EAAgB,CAClBV,KAAMsD,EAAc,GAAGtD,KACvBC,OAAQ4B,EACRd,GAAIuC,EAAc,GAAGvC,IAET0C,OAAOC,QACnBjC,EAAU,8DAGRqB,EAAapC,EAAe4C,EAAc,GAAGvC,IAC7CmC,QAAQC,UAkFZ,kBAAC,EAAD,CACE3D,QA9Ga,SAACA,EAASmE,GAC3B,MAAqB,KAAjBA,EACKnE,EAEAA,EAAQ+D,QAAO,SAAC5D,GAAD,OACpBA,EAAGK,KAAK4D,cAAcC,SAASF,EAAaC,kBAyGnCE,CAAWtE,EAASmC,GAC7BlC,aAhFsB,SAACwD,GACbQ,OAAOC,QAAQ,UAAYT,EAAOjD,KAAO,MAErDwC,EACgBS,GACb5C,MAAK,WACJ,IAAI0C,EAAcvD,EAAQ+D,QAAO,SAACQ,GAAD,OAASA,EAAIhD,KAAOkC,EAAOlC,MAC5DS,EAAWuB,MAEZH,OAAM,SAACxB,GACNc,EAAgB,UAAD,OACHe,EAAOjD,KADJ,yCAGf2C,YAAW,WACTT,EAAgB,QACf,aAuEEZ,YAEf0C,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U,kBCxJ1BC,EAAOC,QAAU,CAAC,MAAQ,4BAA4B,aAAe,sC","file":"static/js/main.06b6c259.chunk.js","sourcesContent":["import React from 'react';\n\nconst Button = ({ formSend, text }) => (\n  <button onClick={formSend}>{text}</button>\n);\n\nexport default Button;\n","import React from 'react';\n\nconst Input = ({ valueChange }) => <input onChange={valueChange}></input>;\n\nexport default Input;\n","import React from 'react';\nimport Button from '../Button/Button';\nimport Input from '../Input/Input';\n\nconst Form = ({\n  type,\n  nameChangeHandler,\n  numberChangeHandler,\n  filterHandler,\n  formSend,\n}) => {\n  let form = null;\n  type === 'phonebook'\n    ? (form = (\n        <form onSubmit={formSend}>\n          <div>\n            name: <Input valueChange={nameChangeHandler} />\n          </div>\n          <div>\n            number: <Input valueChange={numberChangeHandler} />\n          </div>\n          <Button formSend={formSend} text='SEND' />\n        </form>\n      ))\n    : (form = (\n        <form onSubmit={formSend}>\n          <div>\n            filter shown with: <Input valueChange={filterHandler} />\n          </div>\n        </form>\n      ));\n\n  return (\n    <div>\n      {type === 'phonebook' ? <h2>Add a new number</h2> : <h2>Phonebook</h2>}\n      {form}\n    </div>\n  );\n};\n\nexport default Form;\n","import React from 'react';\nimport uniqid from 'uniqid';\n\nconst Numbers = ({ persons, personRemove }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {persons.map((el) => (\n        <p\n          key={uniqid()}\n          onClick={() => personRemove(el)}\n          style={{ width: '250px' }}>\n          {el.name} {el.number}\n        </p>\n      ))}\n    </div>\n  );\n};\n\nexport default Numbers;\n","import axios from 'axios';\nconst baseurl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseurl);\n  return request.then((res) => res.data);\n};\n\nconst add = (newObject) => {\n  const request = axios.post(baseurl, newObject);\n  return request.then((res) => res.data);\n};\n\nconst update = (updatedPerson, personId) => {\n  return axios.put(baseurl + '/' + personId, updatedPerson);\n};\n\nconst deleteObject = (object) => {\n  return axios.delete(baseurl + '/' + object.id);\n};\n\nexport default { getAll, add, update, deleteObject };\n","import React from 'react';\nimport classes from './Notification.module.css';\n\nconst Notification = ({ message, type }) => {\n  return (\n    <div className={type === 'error' ? classes.error : classes.notification}>\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport Form from './components/Form/Form';\nimport Numbers from './components/Numbers/Numbers';\nimport personService from './services/personService';\n//import uniqid from 'uniqid';\nimport Notification from './components/Notification/Notification';\n\nconst App = () => {\n  // State of the app\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newFilter, setNewFilter] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  // Different functions for the app\n  const nameChangeHandler = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const numberChangeHandler = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const filterChangeHandler = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  const nameFilter = (persons, filteredName) => {\n    if (filteredName === '') {\n      return persons;\n    } else {\n      return persons.filter((el) =>\n        el.name.toLowerCase().includes(filteredName.toLowerCase())\n      );\n    }\n  };\n\n  const detailsSendHandler = (event) => {\n    event.preventDefault();\n    let searchSimilar = persons.filter((el) => el.name === newName);\n    if (searchSimilar.length === 0) {\n      let personObject = { name: newName, number: newNumber };\n      addPerson(personObject);\n    } else {\n      let updatedPerson = {\n        name: searchSimilar[0].name,\n        number: newNumber,\n        id: searchSimilar[0].id,\n      };\n      let confirm = window.confirm(\n        newName + ' is already on the list, do you want to update the number?'\n      );\n      confirm\n        ? updatePerson(updatedPerson, searchSimilar[0].id)\n        : console.log();\n    }\n  };\n\n  const personRemoveHandler = (person) => {\n    let confirm = window.confirm('Delete ' + person.name + '?');\n    if (confirm) {\n      personService\n        .deleteObject(person)\n        .then(() => {\n          let updatedList = persons.filter((prs) => prs.id !== person.id);\n          setPersons(updatedList);\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Person ${person.name} was already removed from the server`\n          );\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const getPersons = () => {\n    personService.getAll().then((persons) => setPersons(persons));\n  };\n\n  const addPerson = (newObject) => {\n    personService\n      .add(newObject)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNotificationMessage(`Person ${returnedPerson.name} was added`);\n        setTimeout(() => {\n          setNotificationMessage(null);\n        }, 5000);\n      })\n      .catch((error) => {\n        setErrorMessage(error.response.data.error);\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      });\n  };\n\n  const updatePerson = (updatedPerson, personId) => {\n    let updatedList = [...persons];\n    updatedList.find((person) =>\n      person.id === updatedPerson.id\n        ? (person.number = updatedPerson.number)\n        : console.log()\n    );\n    setPersons(updatedList);\n    personService.update(updatedPerson, personId).catch((error) => {\n      setErrorMessage(\n        `Person ${updatedPerson.name} was already removed from the server`\n      );\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    });\n  };\n\n  useEffect(getPersons, []);\n\n  return (\n    <div>\n      {notificationMessage ? (\n        <Notification message={notificationMessage} type='notification' />\n      ) : null}\n      {errorMessage ? (\n        <Notification message={errorMessage} type='error' />\n      ) : null}\n      <Form type='filter' filterHandler={filterChangeHandler} />\n      <Form\n        type='phonebook'\n        nameChangeHandler={nameChangeHandler}\n        numberChangeHandler={numberChangeHandler}\n        filterHandler={filterChangeHandler}\n        formSend={detailsSendHandler}\n      />\n      <Numbers\n        persons={nameFilter(persons, newFilter)}\n        personRemove={personRemoveHandler}\n      />\n    </div>\n  );\n};\n\nexport default App;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Notification_error__1RsiN\",\"notification\":\"Notification_notification__1C7Ma\"};"],"sourceRoot":""}